(this.webpackJsonptest2=this.webpackJsonptest2||[]).push([[0],{101:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(16),r=a(17),s=a(19),o=a(18),c=a(0),i=a.n(c),u=a(10),l=a(9),p=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){Object(s.a)(c,t);var a=Object(o.a)(c);function c(){return Object(n.a)(this,c),a.apply(this,arguments)}return Object(r.a)(c,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(l.a,{to:"/Login"})}}]),c}(i.a.Component);return Object(u.b)(p)(t)}},112:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){return e?void 0:"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},r=function(e){return e&&e.length>64?"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!":void 0}},139:function(e,t,a){e.exports={preloader:"Preloader_preloader__3qNAA"}},140:function(e,t,a){e.exports=a.p+"static/media/preloader.ffc99b0c.svg"},141:function(e,t,a){e.exports={main_content:"Profile_main_content__2t-ED"}},15:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return i}));var n=a(138),r=a.n(n).a.create({withCredentials:!0,headers:{"API-KEY":"9bfe0302-3819-4ebf-8b85-d5ed5fcf098a"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),s={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t))},getMoreUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))}},o={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})}},c={loginMe:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:e,password:t,rememberMe:a})},logoutMe:function(){return r.delete("auth/login")}},i=function(){return r.get("auth/me")}},169:function(e,t,a){e.exports=a(295)},196:function(e,t,a){},23:function(e,t,a){e.exports={post_element:"Post_post_element__15afx",post_header:"Post_post_header__273Vc",header_left:"Post_header_left__hQCH1",post_owner_pic:"Post_post_owner_pic__1qXmJ",post_added:"Post_post_added__xu1hg",post_owner_name:"Post_post_owner_name__3tKKY",post_time:"Post_post_time__3q3dn",post_options:"Post_post_options__yg95a",post_pictures:"Post_post_pictures__2oCb1",post_picture_content:"Post_post_picture_content__3Natl",post_content:"Post_post_content__167Yt"}},28:function(e,t,a){e.exports={user_body:"User_user_body__2oA09",user_avatar_container:"User_user_avatar_container__kYbGy",personalInfo:"User_personalInfo__xLOHC",full_name:"User_full_name__3g3d9",name:"User_name__2wW3H",age:"User_age__3Adh9",location:"User_location__tXBry",status:"User_status__1tZcG",followers:"User_followers__bhY55",followers_title:"User_followers_title__2Oenh",follow_button:"User_follow_button__27LPI",unfollow_button:"User_unfollow_button__1Japo"}},29:function(e,t,a){e.exports={aside_panel:"Aside_aside_panel__3KQrQ",nav_left_panel:"Aside_nav_left_panel__2G5oT",nav_link:"Aside_nav_link__GZXYg"}},295:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),s=a(69),o=a.n(s),c=a(16),i=a(17),u=a(19),l=a(18),p=a(10),m=a(8),_=a.n(m),d=a(14),f=a(4),g=a(38),h="app-reducer/SET_INIT",v={initialised:!1},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(f.a)(Object(f.a)({},e),{},{initialised:!0});default:return e}},E=a(9),w=a(6),O=(a(196),a(11)),j=a(41),N=a.n(j),x=function(e){return r.a.createElement("header",{className:N.a.fixed_head},r.a.createElement("div",{className:N.a.header_left},r.a.createElement("img",{src:"https://www.tvcnews.tv/wp-content/uploads/2020/10/g-logo.png",className:N.a.logo}),e.auth.isAuth?r.a.createElement("div",{className:N.a.authorisation,onClick:e.logoutThunk},"\u0412\u044b\u0439\u0442\u0438"):r.a.createElement(O.b,{className:N.a.authorisation,to:"/Login"},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("h1",{className:N.a.headTitle},"social network"))},P=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(x,{auth:this.props.auth,logoutThunk:this.props.logoutThunk})}}]),a}(r.a.Component),y=Object(p.b)((function(e){return{auth:e.auth,authorisedUserId:e.auth.data.id}}),{getAuthorisedThunk:g.b,logoutThunk:g.d})(P),k=a(29),T=a.n(k),C=function(){return r.a.createElement("aside",{className:T.a.aside_panel},r.a.createElement("nav",{className:T.a.nav_left_panel},r.a.createElement(O.b,{to:"/Profile",className:T.a.nav_link},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),r.a.createElement(O.b,{to:"/Dialogs",className:T.a.nav_link},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),r.a.createElement(O.b,{to:"/Friends",className:T.a.nav_link},"\u0414\u0440\u0443\u0437\u044c\u044f"),r.a.createElement(O.b,{to:"/People",className:T.a.nav_link},"\u041b\u044e\u0434\u0438"),r.a.createElement(O.b,{to:"/News",className:T.a.nav_link},"\u041b\u0435\u043d\u0442\u0430"),r.a.createElement(O.b,{to:"/Settings",className:T.a.nav_link},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")))},S=a(73),I=a.n(S),U=a(95),D=a.n(U),M=function(e){var t="/Dialogs/"+e.user_id;return r.a.createElement(O.b,{className:D.a.NavLink_activeDialog,to:t},r.a.createElement("div",{className:D.a.activeDialog},e.name))},F=a(42),A=a.n(F),L=a(35),z=a.n(L),J=function(e){return r.a.createElement("div",{className:z.a.message},r.a.createElement("div",{className:z.a.sender_img},r.a.createElement("img",{src:e.sender_avatar,alt:""})),r.a.createElement("div",{className:z.a.msg_content},r.a.createElement("div",{className:z.a.msg_info},r.a.createElement("div",{className:z.a.sender_name},e.sender_name),r.a.createElement("div",{className:z.a.send_time},e.send_time)),r.a.createElement("div",{className:z.a.msg_text},e.text)))},G=function(e){var t=e.messageData.map((function(e){return r.a.createElement(J,{key:e.id,id:e.id,sender_name:e.sender_name,send_time:e.send_time,text:e.text,sender_id:e.sender_id,sender_avatar:e.sender_avatar})})),a=r.a.createRef();return r.a.createElement("div",{className:A.a.messages},r.a.createElement("div",{className:A.a.messages_array},t),r.a.createElement("div",{className:A.a.form_container},r.a.createElement("form",{className:A.a.form,action:"#"},r.a.createElement("textarea",{placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...",className:A.a.textarea,ref:a,value:e.newMessageContent,onChange:function(){a.current.scrollTop>0?a.current.style.height=a.current.scrollHeight+"px":a.current.style.height="auto";var t=a.current.value;e.onNewMessageChange(t)}}),r.a.createElement("button",{onClick:function(t){e.addMessage(),a.current.style.height="auto",t.preventDefault()},className:A.a.send},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))},W=a(34),Y="messages-reducer/ADD-MESSAGE",Z={messageData:[{id:"1",text:"\u042f \u0433\u0443\u043b\u044c",sender_id:"1",sender_avatar:"https://i1.sndcdn.com/avatars-000649708704-q87cpn-t500x500.jpg",sender_name:"\u041a\u0430\u043d\u0435\u043a\u0438 \u041a\u0435\u043d",send_time:"12:00"},{id:"2",text:"Ghowahdoawodoawij",sender_id:"2",sender_avatar:"https://i1.sndcdn.com/avatars-000649708704-q87cpn-t500x500.jpg",sender_name:"\u041a\u0430\u043d\u0435\u043a\u0438 \u041a\u0435\u043d",send_time:"12:00"},{id:"3",text:"\u0420\u0415\u0410\u041a\u0422 \u0416\u042b \u042d\u0421",sender_id:"3",sender_avatar:"https://i1.sndcdn.com/avatars-000649708704-q87cpn-t500x500.jpg",sender_name:"\u041a\u0430\u043d\u0435\u043a\u0438 \u041a\u0435\u043d",send_time:"12:00"},{id:"4",text:"\u042f \u0433\u0443\u043b\u044c",sender_id:"4",sender_avatar:"https://i1.sndcdn.com/avatars-000649708704-q87cpn-t500x500.jpg",sender_name:"\u041a\u0430\u043d\u0435\u043a\u0438 \u041a\u0435\u043d",send_time:"12:00"},{id:"5",text:"\u042f \u0433\u0443\u043b\u044c",sender_id:"5",sender_avatar:"https://i1.sndcdn.com/avatars-000649708704-q87cpn-t500x500.jpg",sender_name:"\u041a\u0430\u043d\u0435\u043a\u0438 \u041a\u0435\u043d",send_time:"12:00"},{id:"6",text:"\u042f \u0433\u0443\u043b\u044c",sender_id:"6",sender_avatar:"https://i1.sndcdn.com/avatars-000649708704-q87cpn-t500x500.jpg",sender_name:"\u041a\u0430\u043d\u0435\u043a\u0438 \u041a\u0435\u043d",send_time:"12:00"}],dialogData:[{name:"\u041c\u0430\u043a\u0441",user_id:"1"},{name:"\u041a\u0438\u0440\u0438\u043b\u043b",user_id:"2"},{name:"\u0421\u0430\u043d\u044f",user_id:"3"},{name:"\u0412\u043e\u043b\u043e\u0434\u044f",user_id:"4"}],newMessageContent:""},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:var a=e.newMessageContent;if(""!==a&&void 0!==a&&null!==a){var n={id:"7",text:a,sender_id:"1",sender_avatar:"https://i1.sndcdn.com/avatars-000649708704-q87cpn-t500x500.jpg",sender_name:"\u041a\u0430\u043d\u0435\u043a\u0438 \u041a\u0435\u043d",send_time:"12:00"};return Object(f.a)(Object(f.a)({},e),{},{newMessageContent:"",messageData:[].concat(Object(W.a)(e.messageData),[n])})}case"UPDATE-MESSAGE-TEXT":return Object(f.a)(Object(f.a)({},e),{},{newMessageContent:t.messageContent});case"messages-reducer/ADD-DIALOG":return Object(f.a)(Object(f.a)({},e),{},{dialogData:Object(W.a)(e.dialogData)});default:return e}},q=Object(p.b)((function(e){return{newMessageContent:e.messagesPage.newMessageContent,messageData:e.messagesPage.messageData}}),(function(e){return{onNewMessageChange:function(t){e(function(e){return{type:"UPDATE-MESSAGE-TEXT",messageContent:e}}(t))},addMessage:function(){e({type:Y})}}}))(G),X=function(e){var t=e.messagesPage.dialogData.map((function(e){return r.a.createElement(M,{key:e.user_id,name:e.name,user_id:e.user_id})}));return e.isAuth?r.a.createElement("section",{className:I.a.main_content},r.a.createElement("div",{className:I.a.dialogs_list},r.a.createElement("h2",{className:"title_second"},"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"),r.a.createElement("div",{className:I.a.active_dialogs},t)),r.a.createElement(q,{store:e.store})):r.a.createElement(E.a,{to:"/Login"})},V=a(101),Q=Object(w.d)(Object(p.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{}})),V.a)(X),R=a(15),B=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(f.a)(Object(f.a)({},e),n):e}))},K="people-reducer/FOLLOW",$="people-reducer/UNFOLLOW",ee="people-reducer/SET-USERS",te="people-reducer/SET_PAGE",ae="people-reducer/SET_TOTAL_COUNT",ne={users:[],totalUsersCount:0,currentPage:1,pageSize:9,isFetching:!1,isFollowing:!1},re=function(e){return{type:K,user_id:e}},se=function(e){return{type:$,user_id:e}},oe=function(e){return{type:ee,users:e}},ce=function(){return{type:"people-reducer/SET_FOLLOWING"}},ie=function(){var e=Object(d.a)(_.a.mark((function e(t,a,n,r){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"people-reducer/SET_FOLLOWING"}),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&(t(r(n)),t({type:"people-reducer/SET_FOLLOWING"}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(f.a)(Object(f.a)({},e),{},{users:B(e.users,t.user_id,"id",{followed:!0})});case $:return Object(f.a)(Object(f.a)({},e),{},{users:B(e.users,t.user_id,"id",{followed:!1})});case ee:return Object(f.a)(Object(f.a)({},e),{},{users:[].concat(Object(W.a)(e.users),Object(W.a)(t.users))});case te:return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.currentPage});case ae:return Object(f.a)(Object(f.a)({},e),{},{totalUsersCount:t.totalCount});case"people-reducer/SET_FETCHING":return e.isFetching?Object(f.a)(Object(f.a)({},e),{},{isFetching:!1}):Object(f.a)(Object(f.a)({},e),{},{isFetching:!0});case"people-reducer/SET_FOLLOWING":return e.isFollowing?Object(f.a)(Object(f.a)({},e),{},{isFollowing:!1}):Object(f.a)(Object(f.a)({},e),{},{isFollowing:!0});default:return e}},le=a(74),pe=a.n(le),me=a(28),_e=a.n(me),de=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).follow=function(e){n.props.follow(n.props.id),e.preventDefault()},n.unfollow=function(e){n.props.unfollow(n.props.id),e.preventDefault()},n.user_avatar="https://i.pinimg.com/originals/7c/c7/a6/7cc7a630624d20f7797cb4c8e93c09c1.png",n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:_e.a.user_body},r.a.createElement(O.b,{to:"/Profile/".concat(this.props.id),className:_e.a.user_avatar_container},r.a.createElement("img",{src:null===this.props.photos.small?this.user_avatar:this.props.photos.small,alt:"user_avatar"})),r.a.createElement("div",{className:_e.a.personalInfo},r.a.createElement("div",{className:_e.a.full_name},r.a.createElement("h3",{className:_e.a.name},this.props.name)),r.a.createElement("div",{className:_e.a.status},this.props.status),r.a.createElement("div",{className:_e.a.followers},this.props.followed?r.a.createElement("button",{disabled:this.props.isFollowing,onClick:this.unfollow,className:_e.a.unfollow_button},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):r.a.createElement("button",{disabled:this.props.isFollowing,onClick:this.follow,className:_e.a.follow_button},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"))))}}]),a}(r.a.Component),fe=function(e){var t=e.users.map((function(t){return r.a.createElement(de,{key:t.id,photos:t.photos,status:t.status,name:t.name,id:t.id,followed:t.followed,follow:e.follow,unfollow:e.unfollow,isFollowing:e.isFollowing,toggleFollowing:e.toggleFollowing})}));return r.a.createElement("section",{className:pe.a.main_content},r.a.createElement("h1",{className:"title-h1"},"\u041f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u044c\u0441\u044f \u0441 \u043d\u043e\u0432\u044b\u043c\u0438 \u043b\u044e\u0434\u044c\u043c\u0438"),r.a.createElement("div",{className:pe.a.users},t),r.a.createElement("button",{onClick:function(t){e.getMoreUsers(t,e.currentPage)},className:pe.a.more_button},"\u0411\u043e\u043b\u044c\u0448\u0435 \u043b\u044e\u0434\u0435\u0439!"))},ge=a(139),he=a.n(ge),ve=a(140),be=a.n(ve),Ee=function(e){return r.a.createElement("img",{src:be.a,className:he.a.preloader})},we=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getMoreUsers=function(e,t){n.props.getMoreUsersThunk(t,n.props.pageSize),e.preventDefault()},n.follow=function(e){n.props.followThunk(e)},n.unfollow=function(e){n.props.unfollowThunk(e)},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){0===this.props.users.length&&this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(Ee,null):null,r.a.createElement(fe,{users:this.props.users,getMoreUsers:this.getMoreUsers,currentPage:this.props.currentPage,follow:this.follow,unfollow:this.unfollow,isFollowing:this.isFollowing,toggleFollowing:this.props.toggleFollowing}))}}]),a}(r.a.Component),Oe=Object(w.d)(Object(p.b)((function(e){return{users:e.peoplePage.users,totalUsersCount:e.peoplePage.totalUsersCount,currentPage:e.peoplePage.currentPage,pageSize:e.peoplePage.pageSize,isFetching:e.peoplePage.isFetching,isFollowing:e.peoplePage.isFollowing}}),{toggleFollowing:ce,getUsersThunk:function(e,t){return function(){var a=Object(d.a)(_.a.mark((function a(n){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"people-reducer/SET_FETCHING"}),a.next=3,R.c.getUsers(e,t);case 3:r=a.sent,n(oe(r.data.items)),n({type:"people-reducer/SET_FETCHING"}),n((s=r.data.totalCount,{type:ae,totalCount:s}));case 7:case"end":return a.stop()}var s}),a)})));return function(e){return a.apply(this,arguments)}}()},getMoreUsersThunk:function(e,t){return function(){var a=Object(d.a)(_.a.mark((function a(n){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"people-reducer/SET_FETCHING"}),e++,n({type:te,currentPage:e}),a.next=5,R.c.getMoreUsers(e,t);case 5:r=a.sent,n(oe(r.data.items)),n({type:"people-reducer/SET_FETCHING"});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},followThunk:function(e){return function(){var t=Object(d.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=R.c.follow.bind(R.c),ie(a,n,e,re);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowThunk:function(e){return function(){var t=Object(d.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=R.c.unfollow.bind(R.c),ie(a,n,e,se);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(we),je=a(141),Ne=a.n(je),xe=a(48),Pe=a.n(xe),ye=a(99),ke=a(96),Te=a.n(ke),Ce=function(e){var t=Object(n.useState)(!1),a=Object(ye.a)(t,2),s=a[0],o=a[1],c=Object(n.useState)(e.status),i=Object(ye.a)(c,2),u=i[0],l=i[1];Object(n.useEffect)((function(){l(e.status)}),[e.status]);var p=function(){o(!s),s||e.updateUserStatusThunk(u)};return r.a.createElement("div",null,s?r.a.createElement("div",null,r.a.createElement("textarea",{onChange:function(e){l(e.currentTarget.value)},onBlur:p,autoFocus:!0,className:Te.a.input_area,value:u})):r.a.createElement("div",{onClick:p,className:Te.a.status_area},e.status))},Se=function(e){return e.profile?r.a.createElement("div",{className:Pe.a.personal_info},r.a.createElement("div",{className:Pe.a.avatar_box},r.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:"https://www.tvcnews.tv/wp-content/uploads/2020/10/g-logo.png",className:Pe.a.avatar,alt:"user avatar"})),r.a.createElement("div",{className:Pe.a.info_box},r.a.createElement("h2",{className:"title_second"},e.profile.fullName),r.a.createElement("div",{className:Pe.a.description_personal},r.a.createElement(Ce,{updateUserStatusThunk:e.updateUserStatusThunk,status:e.status})))):r.a.createElement(Ee,null)},Ie="profile-reducer/ADD-POST",Ue="profile-reducer/SET_USER_PROFILE",De="profile-reducer/SET-USER-STATUS",Me={postContent:[{id:"1",name:"\u041a\u0430\u043d\u0435\u043a\u0438 \u041a\u0435\u043d",time:"20 \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434",avatar:"https://i1.sndcdn.com/avatars-000649708704-q87cpn-t500x500.jpg",picture:"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/2d03278e-72b5-4979-b3ff-f542a56a6e5f/dn9pzl-e4bb517f-527a-4a4a-8395-ab235fc0c98f.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOiIsImlzcyI6InVybjphcHA6Iiwib2JqIjpbW3sicGF0aCI6IlwvZlwvMmQwMzI3OGUtNzJiNS00OTc5LWIzZmYtZjU0MmE1NmE2ZTVmXC9kbjlwemwtZTRiYjUxN2YtNTI3YS00YTRhLTgzOTUtYWIyMzVmYzBjOThmLmpwZyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTpmaWxlLmRvd25sb2FkIl19.gSjxDL0ufG_D9nDilby9y2aAc9_TD--u3Zh-4Lf5JKA",content:"\u042f- \u0413\u0443\u043b\u044c"},{id:"2",name:"\u041a\u0430\u043d\u0435\u043a\u0438 \u041a\u0435\u043d",time:"21 \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434",avatar:"https://i1.sndcdn.com/avatars-000649708704-q87cpn-t500x500.jpg",picture:"https://wallpaperstock.net/wallpapers/thumbs1/10395.jpg",content:"\u041b\u0435\u043b\u0435\u043b\u0435\u043b\u0442 \u043c\u0438 \u0434\u0430\u0439"},{id:"3",name:"\u041a\u0430\u043d\u0435\u043a\u0438 \u041a\u0435\u043d",time:"22 \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434",avatar:"https://i1.sndcdn.com/avatars-000649708704-q87cpn-t500x500.jpg",picture:"https://images.freeimages.com/images/small-previews/904/blue-1185044.jpg",content:"\u0410\u0439\u043c \u044d \u043f\u043e\u0439\u0441\u043e\u043d \u0440\u0435\u0439\u043d \u0432\u0438 \u0432\u043e\u043d\u0442 \u0432\u0443\u043b\u0434 \u0441\u0443\u0440\u0432\u0430\u0439\u0432"}],profile:null,status:""},Fe=function(e){return{type:De,status:e}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:if(t.newPostContent){var a={id:"5",name:"\u041a\u0430\u043d\u0435\u043a\u0438 \u041a\u0435\u043d",time:"20 \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434",avatar:"https://i1.sndcdn.com/avatars-000649708704-q87cpn-t500x500.jpg",picture:"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/2d03278e-72b5-4979-b3ff-f542a56a6e5f/dn9pzl-e4bb517f-527a-4a4a-8395-ab235fc0c98f.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOiIsImlzcyI6InVybjphcHA6Iiwib2JqIjpbW3sicGF0aCI6IlwvZlwvMmQwMzI3OGUtNzJiNS00OTc5LWIzZmYtZjU0MmE1NmE2ZTVmXC9kbjlwemwtZTRiYjUxN2YtNTI3YS00YTRhLTgzOTUtYWIyMzVmYzBjOThmLmpwZyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTpmaWxlLmRvd25sb2FkIl19.gSjxDL0ufG_D9nDilby9y2aAc9_TD--u3Zh-4Lf5JKA",content:t.newPostContent};return Object(f.a)(Object(f.a)({},e),{},{postContent:[a].concat(Object(W.a)(e.postContent))})}case Ue:return Object(f.a)(Object(f.a)({},e),{},{profile:t.profile});case De:return Object(f.a)(Object(f.a)({},e),{},{status:t.status});default:return e}},Le=a(58),ze=a.n(Le),Je=a(23),Ge=a.n(Je),We=function(e){return r.a.createElement("div",{className:Ge.a.post_element},r.a.createElement("div",{className:Ge.a.post_header},r.a.createElement("div",{className:Ge.a.header_left},r.a.createElement("img",{className:Ge.a.post_owner_pic,src:e.avatar}),r.a.createElement("div",{className:Ge.a.post_added},r.a.createElement("a",{href:"#",className:Ge.a.post_owner_name},e.name),r.a.createElement("p",{className:Ge.a.post_time},e.time))),r.a.createElement("div",{className:Ge.a.post_options},"X")),r.a.createElement("div",{className:Ge.a.post_pictures},r.a.createElement("img",{className:Ge.a.post_picture_content,src:e.picture})),r.a.createElement("div",{className:Ge.a.post_content},e.content))},Ye=a(133),Ze=a(134),He=a(136),qe=a(59),Xe=a.n(qe),Ve=function(e){var t=e.input,a=e.meta,n=Object(He.a)(e,["input","meta"]),s=a.touched&&a.error;return r.a.createElement("div",{className:Xe.a.container},s&&r.a.createElement("span",{className:Xe.a.error_message},a.error),r.a.createElement("textarea",Object.assign({className:Xe.a.textarea+" "+(s?Xe.a.textarea_error:"")},t,n)))},Qe=a(112),Re=Object(Ze.a)({form:"addPostsForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:ze.a.form},r.a.createElement(Ye.a,{validate:[Qe.a],component:Ve,name:"newPostContent",placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043e \u0447\u0435\u043c-\u043d\u0438\u0431\u0443\u0434\u044c, \u0447\u0442\u043e \u0432\u0430\u0441 \u0432\u043e\u043b\u043d\u0443\u0435\u0442..."}),r.a.createElement("button",{className:ze.a.send},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))})),Be=function(e){var t=e.postContent.map((function(e){return r.a.createElement(We,{key:e.id,name:e.name,time:e.time,avatar:e.avatar,picture:e.picture,content:e.content})}));return r.a.createElement("div",null,r.a.createElement("div",{className:ze.a.form_container},r.a.createElement(Re,{onSubmit:function(t){e.addPost(t.newPostContent)}})),r.a.createElement("div",{className:ze.a.posts_lists},t))},Ke=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).addPost=function(e){n.props.addPost(e)},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(Be,{newPostContent:this.props.newPostContent,postContent:this.props.postContent,addPost:this.addPost})}}]),a}(r.a.Component),$e=Object(p.b)((function(e){return{newPostContent:e.profilePage.newPostContent,postContent:e.profilePage.postContent}}),(function(e){return{addPost:function(t){e(function(e){return{type:Ie,newPostContent:e}}(t))}}}))(Ke),et=function(e){return r.a.createElement("section",{className:Ne.a.main_content},r.a.createElement(Se,{profile:e.profile,status:e.status,updateUserStatusThunk:e.updateUserStatusThunk}),r.a.createElement($e,{store:e.store}))},tt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).isProfileSetted=!1,n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.props.match.params.userID;e||(e=this.props.authorisedUserId,this.isProfileSetted||(this.props.getUserStatusThunk(e),this.props.setUserProfileThunk(e),this.isProfileSetted=!0))}},{key:"componentDidMount",value:function(){var e=this;this.isProfileSetted=!1,setTimeout((function(){var t=e.props.match.params.userID;t||(t=e.props.authorisedUserId),e.props.getUserStatusThunk(t),e.props.setUserProfileThunk(t)}),100)}},{key:"render",value:function(){return r.a.createElement(et,{profile:this.props.profile,updateUserStatusThunk:this.props.updateUserStatusThunk,status:this.props.status})}}]),a}(r.a.PureComponent),at=Object(w.d)(Object(p.b)((function(e){return{profile:e.profilePage.profile,authorisedUserId:e.auth.data.id,status:e.profilePage.status}}),{setUserProfileThunk:function(e){return function(){var t=Object(d.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.b.getProfile(e);case 2:n=t.sent,a((r=n.data,{type:Ue,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatusThunk:function(e){return function(){var t=Object(d.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.b.getStatus(e);case 2:n=t.sent,a(Fe(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatusThunk:function(e){return function(){var t=Object(d.a)(_.a.mark((function t(a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(Fe(e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),E.f)(tt),nt=function(e){return function(t){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(Ee,null)},r.a.createElement(e,t))}},rt=r.a.lazy((function(){return a.e(3).then(a.bind(null,299))})),st=r.a.lazy((function(){return a.e(5).then(a.bind(null,300))})),ot=r.a.lazy((function(){return a.e(6).then(a.bind(null,301))})),ct=r.a.lazy((function(){return a.e(4).then(a.bind(null,302))})),it=function(e){return r.a.createElement("main",{className:"wrapper section_main"},r.a.createElement(C,null),r.a.createElement(E.b,{path:"/Profile/:userID?",render:function(){return r.a.createElement(at,null)}}),r.a.createElement(E.b,{path:"/Dialogs",render:function(){return r.a.createElement(Q,null)}}),r.a.createElement(E.b,{path:"/People",render:function(){return r.a.createElement(Oe,null)}}),r.a.createElement(E.b,{path:"/Friends",render:nt(ct)}),r.a.createElement(E.b,{path:"/News",render:nt(st)}),r.a.createElement(E.b,{path:"/Settings",render:nt(ot)}),r.a.createElement(E.b,{path:"/Login",render:nt(rt)}))},ut={},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;arguments.length>1&&arguments[1];return e},pt=a(143),mt=a(135),_t=Object(w.c)({profilePage:Ae,messagesPage:H,sidebarPage:lt,peoplePage:ue,auth:g.a,form:mt.a,appInit:b}),dt=Object(w.e)(_t,Object(w.a)(pt.a)),ft=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.initialize()}},{key:"render",value:function(){return this.props.initialised?r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(it,null)):r.a.createElement(Ee,null)}}]),a}(r.a.Component),gt=Object(w.d)(E.f,Object(p.b)((function(e){return{initialised:e.appInit.initialised}}),{initialize:function(){return function(){var e=Object(d.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t(Object(g.b)()),Promise.all([a]).then((function(){t({type:h})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(ft),ht=function(e){return r.a.createElement(O.a,null,r.a.createElement(p.a,{store:dt},r.a.createElement(gt,null)))};window.store=dt,o.a.render(r.a.createElement(ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,a){e.exports={message:"Message_message__3KDOE",msg_content:"Message_msg_content__10CGw",msg_info:"Message_msg_info__iW6uk",sender_img:"Message_sender_img__10QSz",sender_name:"Message_sender_name__3werA",send_time:"Message_send_time__3NW-N",msg_text:"Message_msg_text__3vHAF"}},38:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return _})),a.d(t,"d",(function(){return d}));var n=a(8),r=a.n(n),s=a(14),o=a(4),c=a(60),i=a(15),u="auth-reducer/SET_USER_DATA",l={resultCode:null,messages:[],data:{id:null,email:null,login:null},isFetching:!1,isAuth:!1},p=function(e,t){return{type:u,userData:e,isAuth:t}},m=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.d)();case 2:0===(a=e.sent).data.resultCode&&t(p(a.data,!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){var n,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.loginMe(e.Email,e.Password,e.rememberMe);case 2:0===(n=t.sent).data.resultCode?a(m()):(s=n.messages,a(Object(c.a)("loginForm",{_error:s})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.logoutMe();case 2:0===e.sent.data.resultCode&&t(p({resultCode:null,messages:[],data:{id:null,email:null,login:null},isFetching:!1},!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(o.a)(Object(o.a)({},e),{},{data:t.userData.data,isAuth:t.isAuth});default:return e}}},41:function(e,t,a){e.exports={logo:"Header_logo__1xjBo",fixed_head:"Header_fixed_head__3TikN",headTitle:"Header_headTitle__3XAHd",header_left:"Header_header_left__2fV0g",authorisation:"Header_authorisation__2uPKS"}},42:function(e,t,a){e.exports={messages:"Messages_messages__2k9BJ",form_container:"Messages_form_container__2EboS",form:"Messages_form__1cxQn",textarea:"Messages_textarea__b_yeF",send:"Messages_send__2iP4M",messages_array:"Messages_messages_array__2Sryr"}},48:function(e,t,a){e.exports={avatar_box:"ProfileInfo_avatar_box__1v-gH",avatar:"ProfileInfo_avatar__1XYsX",personal_info:"ProfileInfo_personal_info__1nA3Q",info_box:"ProfileInfo_info_box__vHZQz",description_personal:"ProfileInfo_description_personal__1iQM-"}},58:function(e,t,a){e.exports={form_container:"Posts_form_container__328Dv",form:"Posts_form__-j1rk",textarea:"Posts_textarea__29b9g",send:"Posts_send__1DcEM",posts_lists:"Posts_posts_lists__66k8E"}},59:function(e,t,a){e.exports={textarea:"textarea_textarea__1QA0o",none_error:"textarea_none_error__13dCa",textarea_error:"textarea_textarea_error__2advI",container:"textarea_container__3Avyb",error_message:"textarea_error_message__1ncWZ"}},73:function(e,t,a){e.exports={main_content:"Dialogs_main_content__1eFlx",dialogs_list:"Dialogs_dialogs_list__tiOSo",active_dialogs:"Dialogs_active_dialogs__9VXTC"}},74:function(e,t,a){e.exports={main_content:"People_main_content__2MNB6",users:"People_users__bM0p-",more_button:"People_more_button__2Qjtx"}},95:function(e,t,a){e.exports={activeDialog:"ActiveDialog_activeDialog__AoDiO",NavLink_activeDialog:"ActiveDialog_NavLink_activeDialog__dJkVy"}},96:function(e,t,a){e.exports={input_area:"Status_input_area__2UqD8",status_area:"Status_status_area__1j0sq"}}},[[169,1,2]]]);
//# sourceMappingURL=main.787c5b3e.chunk.js.map